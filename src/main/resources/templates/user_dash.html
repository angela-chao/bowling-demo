<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="index">
<head>
        <title>User Dashboard</title>
    </head>
    <body>
        <div layout:fragment="content">
            <h1 th:inline="text">Hello [[${#httpServletRequest.remoteUser}]]!</h1>
            <h2>This is your User Dashboard</h2>

            <script type="text/javascript">
                // Popup window code
                function newPopup(url) {
                    const popupWindow = window.open(
                        url, 'reserve', 'height=600,width=700,left=10,top=10,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no,status=yes');
                }
            </script>

            <p>
                <!-- This button launches a separate window with a GUI ran by the Calendly API -->
                <a href="JavaScript:newPopup('/reserve');" class="btn btn-primary">Make a reservation</a>

                <!-- This button directs the user to the view_res page, so they can view the reservations
                     linked to their email that are stored in the database -->
                <a th:href="@{/user_resview}" class="btn btn-secondary">View current reservations</a>
            </p>


        </div>
    </body>
</html>
